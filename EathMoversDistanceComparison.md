# Introduction #

First, Displacement Interpolation and Bivariate Quantile Interpolation were ran on the generate 10 interpolated PDF's at alpha values a=0/9, a=1/9, ... a=9/9.  The generated PDF's of matching alpha values were compared via EMD.

For Displacement Interpolation, a set of 2D vector samples are converted into a discretely-sampled PDF along a uniform grid (in this case 100x100) before the interpolation is performed.  The output is interpolated, discretely-sampled PDF's along a grid of the same density.

For Bivariate Quantile Interpolation, the set of 2D vector samples is used to find a CDF and quantile curves are interpolated to generated the interpolated PDF.  While the result is discretely-sampled, it is not along a uniform grid, so it is re-sampled using linear surface interpolation to match the uniform grid found in Displacement Interpolation output.  This was done at CDF integration resolutions of 100x100 (50 quantiles) and 400x400 (200 quantiles), both with 100x100 output.

# Reference #

As a reference for the earth mover's distance values, I computed the earth mover's distance between the uni-modal and bi-modal distributions which resulted from running the get\_probability.py script on the vector samples.

| Uni-modal | Bi-modal | EMD |
|:----------|:---------|:----|
| <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution0.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution0.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution1.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution1.png' /></a> | 1.80125451088 |

Also, using these distributions as a ground truth, I found the earth movers distance between these and the outputs of displacement interpolation and high-resolution quantile interpolation (400x400, 200 quantiles).

| Uni-modal | Displacement (alpha=0) | Quantile (alpha=0) |
|:----------|:-----------------------|:-------------------|
| <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution0.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution0.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated0.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated0.png' /></a><br />EMD = 0.000339497171808 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted0HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted0HighRes.png' /></a><br />EMD = 0.0143784573302 |

| Bi-modal | Displacement (alpha=1) | Quantile (alpha=1) |
|:---------|:-----------------------|:-------------------|
| <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution1.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/distribution1.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated9.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated9.png' /></a><br />EMD = 0.000310476636514 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted9HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted9HighRes.png' /></a><br />EMD = 0.0384229049087 |

# Results #

OpenCV is used to calculate the earth mover's distance between Displacement Interpolation as a ground truth and both versions of Bivariate Quantile Interpolation outputs of the same alpha value.  The results are recorded below.

**NOTE**: for Python's LinearNDInterpolator class, I use a fill value of 0.  This results in the steep edges for Quantile interpolation since some points fall outside of the set of quantile curve points and are not linearly interpolated.

| Alpha | Displacement Interpolation | Quantile Interpolation (100x100, 50 quantiles) | Quantile Interpolation (400x400, 200 quantiles) |
|:------|:---------------------------|:-----------------------------------------------|:------------------------------------------------|
| a = 0.000 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated0.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated0.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted0.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted0.png' /></a><br />EMD = 0.0249428413808 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted0HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted0HighRes.png' /></a><br />EMD = 0.00962763372809 |
| a = 0.111 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated1.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated1.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted1.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted1.png' /></a><br />EMD = 0.0385088697076 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted1HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted1HighRes.png' /></a><br />EMD = 0.0241725649685 |
| a = 0.222 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated2.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated2.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted2.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted2.png' /></a><br />EMD = 0.0456686280668 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted2HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted2HighRes.png' /></a><br />EMD = 0.0332490354776 |
| a = 0.333 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated3.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated3.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted3.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted3.png' /></a><br />EMD = 0.0545984171331 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted3HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted3HighRes.png' /></a><br />EMD = 0.039058547467 |
| a = 0.444 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated4.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated4.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted4.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted4.png' /></a><br />EMD = 0.0683948919177 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted4HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted4HighRes.png' /></a><br />EMD = 0.0409437865019 |
| a = 0.556 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated5.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated5.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted5.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted5.png' /></a><br />EMD = 0.071849308908 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted5HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted5HighRes.png' /></a><br />EMD = 0.042249597609 |
| a = 0.667 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated6.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated6.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted6.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted6.png' /></a><br />EMD = 0.0855807811022 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted6HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted6HighRes.png' /></a><br />EMD = 0.0460921823978 |
| a = 0.778 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated7.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated7.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted7.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted7.png' /></a><br />EMD = 0.0937221124768 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted7HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted7HighRes.png' /></a><br />EMD = 0.0436966717243 |
| a = 0.889 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated8.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated8.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted8.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted8.png' /></a><br />EMD = 0.0869412720203 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted8HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted8HighRes.png' /></a><br />EMD = 0.0391434021294 |
| a = 1.000 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated9.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/interpolated9.png' /></a> | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted9.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted9.png' /></a><br />EMD = 0.101286739111 | <a href='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted9HighRes.png'><img width='200' src='https://displacement-interpolation-perf-analysis.googlecode.com/git/emd/images/converted9HighRes.png' /></a><br />EMD = 0.0344381518662 |